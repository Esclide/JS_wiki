CQRS и EventSourcing

CQRS - мы должны разделить систему на 2 части - одна только вносить изменения, другая только читать, но не вносить изменения
+ мы можем структуризировать код (делим код на 2 части, они друг другу не мешают)
+ увеличение скорости разработки
+ скорость работы выше (сделали предсказуемые локи на чтение)

Проблемы:
Как мы будем читать из системы, не внося сайд эффектов? У нас логи, метрики и т.п.
Логи и метрики выносим из системы наружу
SQL - хороший пример сегрегации, но, когда мы вставляем, мы хотим что-то вернуть

Несимметричные кейсы - внесение изменений простое, а выборка тяжелая
(пример - добавить билет на самолет просто и дешево, а выбрать все билеты за год сложно). В итоге Command сервис работает без проблем, а Query толстый. Query сервисов можно плодить сколько угодно
боттлнек - сторадж. решение - разные стораджи на запись и чтение, а из райта правно будет перетекать в рид. но тогда данные на чтение могут быть неконсистентны

Тяжело реализовать
Главная проблема - консистентность данных. Лаг между записью и чтением
Усложняет инфраструктуру - нет прямоточных действий, аудит правок, большой поток правок



Пример от аудитории про GraphQL
